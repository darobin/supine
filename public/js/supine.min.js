var t=function(){},e={},n=[],r=[];function o(e,o){var i,a,l,u,p=r;for(u=arguments.length;u-- >2;)n.push(arguments[u]);for(o&&null!=o.children&&(n.length||n.push(o.children),delete o.children);n.length;)if((a=n.pop())&&void 0!==a.pop)for(u=a.length;u--;)n.push(a[u]);else"boolean"==typeof a&&(a=null),(l="function"!=typeof e)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(l=!1)),l&&i?p[p.length-1]+=a:p===r?p=[a]:p.push(a),i=l;var s=new t;return s.nodeName=e,s.children=p,s.attributes=null==o?void 0:o,s.key=null==o?void 0:o.key,s}function i(t,e){for(var n in e)t[n]=e[n];return t}var a="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var l=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,u=[];function p(t){!t._dirty&&(t._dirty=!0)&&1==u.push(t)&&a(s)}function s(){var t,e=u;for(u=[];t=e.pop();)t._dirty&&P(t)}function c(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function f(t){var e=i({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===l.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,v,a):t.removeEventListener(e,v,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var u=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function v(t){return this._listeners[t.type](t)}var m=[],_=0,g=!1,y=!1;function b(){for(var t;t=m.pop();)t.componentDidMount&&t.componentDidMount()}function C(t,e,n,r,o,i){_++||(g=null!=o&&void 0!==o.ownerSVGElement,y=null!=t&&!("__preactattr_"in t));var a=x(t,e,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--_||(y=!1,i||b()),a}function x(t,e,n,r,o){var i=t,a=g;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),k(t,!0))),i.__preactattr_=!0,i;var l,u,p=e.nodeName;if("function"==typeof p)return function(t,e,n,r){var o=t&&t._component,i=o,a=t,l=o&&t._componentConstructor===e.nodeName,u=l,p=f(e);for(;o&&!u&&(o=o._parentComponent);)u=o.constructor===e.nodeName;o&&u&&(!r||o._component)?(L(o,p,3,n,r),t=o.base):(i&&!l&&(T(i),t=a=null),o=w(e.nodeName,p,n),t&&!o.nextBase&&(o.nextBase=t,a=null),L(o,p,1,n,r),t=o.base,a&&t!==a&&(a._component=null,k(a,!1)));return t}(t,e,n,r);if(g="svg"===p||"foreignObject"!==p&&g,p=String(p),(!t||!c(t,p))&&(l=p,(u=g?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l)).normalizedNodeName=l,i=u,t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),k(t,!0)}var s=i.firstChild,v=i.__preactattr_,m=e.children;if(null==v){v=i.__preactattr_={};for(var _=i.attributes,b=_.length;b--;)v[_[b].name]=_[b].value}return!y&&m&&1===m.length&&"string"==typeof m[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=m[0]&&(s.nodeValue=m[0]):(m&&m.length||null!=s)&&function(t,e,n,r,o){var i,a,l,u,p,s=t.childNodes,f=[],h={},v=0,m=0,_=s.length,g=0,y=e?e.length:0;if(0!==_)for(var b=0;b<_;b++){var C=s[b],N=C.__preactattr_,S=y&&N?C._component?C._component.__key:N.key:null;null!=S?(v++,h[S]=C):(N||(void 0!==C.splitText?!o||C.nodeValue.trim():o))&&(f[g++]=C)}if(0!==y)for(var b=0;b<y;b++){p=null;var S=(u=e[b]).key;if(null!=S)v&&void 0!==h[S]&&(p=h[S],h[S]=void 0,v--);else if(m<g)for(i=m;i<g;i++)if(void 0!==f[i]&&(w=a=f[i],L=o,"string"==typeof(U=u)||"number"==typeof U?void 0!==w.splitText:"string"==typeof U.nodeName?!w._componentConstructor&&c(w,U.nodeName):L||w._componentConstructor===U.nodeName)){p=a,f[i]=void 0,i===g-1&&g--,i===m&&m++;break}p=x(p,u,n,r),l=s[b],p&&p!==t&&p!==l&&(null==l?t.appendChild(p):p===l.nextSibling?d(l):t.insertBefore(p,l))}var w,U,L;if(v)for(var b in h)void 0!==h[b]&&k(h[b],!1);for(;m<=g;)void 0!==(p=f[g--])&&k(p,!1)}(i,m,n,r,y||null!=v.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||h(t,r,n[r],n[r]=void 0,g);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||h(t,r,n[r],n[r]=e[r],g)}(i,e.attributes,v),g=a,i}function k(t,e){var n=t._component;n?T(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||d(t),N(t))}function N(t){for(t=t.lastChild;t;){var e=t.previousSibling;k(t,!0),t=e}}var S=[];function w(t,e,n){var r,o=S.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),A.call(r,e,n)):((r=new A(e,n)).constructor=t,r.render=U);o--;)if(S[o].constructor===t)return r.nextBase=S[o].nextBase,S.splice(o,1),r;return r}function U(t,e,n){return this.constructor(t,n)}function L(t,n,r,o,i){t._disable||(t._disable=!0,t.__ref=n.ref,t.__key=n.key,delete n.ref,delete n.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o)),o&&o!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=o),t.prevProps||(t.prevProps=t.props),t.props=n,t._disable=!1,0!==r&&(1!==r&&!1===e.syncComponentUpdates&&t.base?p(t):P(t,1,i)),t.__ref&&t.__ref(t))}function P(t,e,n,r){if(!t._disable){var o,a,l,u=t.props,p=t.state,s=t.context,c=t.prevProps||u,d=t.prevState||p,h=t.prevContext||s,v=t.base,g=t.nextBase,y=v||g,x=t._component,N=!1,S=h;if(t.constructor.getDerivedStateFromProps&&(p=i(i({},p),t.constructor.getDerivedStateFromProps(u,p)),t.state=p),v&&(t.props=c,t.state=d,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(u,p,s)?N=!0:t.componentWillUpdate&&t.componentWillUpdate(u,p,s),t.props=u,t.state=p,t.context=s),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!N){o=t.render(u,p,s),t.getChildContext&&(s=i(i({},s),t.getChildContext())),v&&t.getSnapshotBeforeUpdate&&(S=t.getSnapshotBeforeUpdate(c,d));var U,A,M=o&&o.nodeName;if("function"==typeof M){var R=f(o);(a=x)&&a.constructor===M&&R.key==a.__key?L(a,R,1,s,!1):(U=a,t._component=a=w(M,R,s),a.nextBase=a.nextBase||g,a._parentComponent=t,L(a,R,0,s,!1),P(a,1,n,!0)),A=a.base}else l=y,(U=x)&&(l=t._component=null),(y||1===e)&&(l&&(l._component=null),A=C(l,o,s,n||!v,y&&y.parentNode,!0));if(y&&A!==y&&a!==x){var B=y.parentNode;B&&A!==B&&(B.replaceChild(A,y),U||(y._component=null,k(y,!1)))}if(U&&T(U),t.base=A,A&&!r){for(var W=t,D=t;D=D._parentComponent;)(W=D).base=A;A._component=W,A._componentConstructor=W.constructor}}for(!v||n?m.unshift(t):N||t.componentDidUpdate&&t.componentDidUpdate(c,d,S);t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);_||r||b()}}function T(t){var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?T(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,d(e),S.push(t),N(e)),t.__ref&&t.__ref(null)}function A(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}i(A.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),p(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),P(this,2)},render:function(){}});var M={};function R(t,e){for(var n in e)t[n]=e[n];return t}function B(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function W(t,e){return t.index=e,t.rank=function(t){return t.attributes.default?0:(e=t.attributes.path,D(e).map(E).join(""));var e}(t),t.attributes}function D(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function E(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var I=null,O=[],$=[],j={};function V(){var t;return""+((t=I&&I.location?I.location:I&&I.getCurrentLocation?I.getCurrentLocation():"undefined"!=typeof location?location:j).pathname||"")+(t.search||"")}function H(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=O.length;e--;)if(O[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),I&&I[e]?I[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),K(t)}function K(t){for(var e=!1,n=0;n<O.length;n++)!0===O[n].routeTo(t)&&(e=!0);for(var r=$.length;r--;)$[r](t);return e}function z(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return H(e)}}function F(t){if(0==t.button)return z(t.currentTarget||t.target||this),G(t)}function G(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function q(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e,n=t.target;do{if("A"===String(n.nodeName).toUpperCase()&&n.getAttribute("href")&&(null!=(e=n).__preactattr_||"undefined"!=typeof Symbol&&null!=e[Symbol.for("preactattr")])){if(n.hasAttribute("native"))return;if(z(n))return G(t)}}while(n=n.parentNode)}}var J=!1;var Q=function(t){function e(e){t.call(this,e),e.history&&(I=e.history),this.state={url:e.url||V()},J||("function"==typeof addEventListener&&(I||addEventListener("popstate",function(){K(V())}),addEventListener("click",q)),J=!0)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},e.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},e.prototype.componentWillMount=function(){O.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;I&&(this.unlisten=I.listen(function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))})),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),O.splice(O.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(W).sort(B).map(function(t){var r=function(t,e,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=t.match(o),a={};if(i&&i[1])for(var l=i[1].split("&"),u=0;u<l.length;u++){var p=l[u].split("=");a[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}t=D(t.replace(o,"")),e=D(e||"");for(var s=Math.max(t.length,e.length),c=0;c<s;c++)if(e[c]&&":"===e[c].charAt(0)){var f=e[c].replace(/(^\:|[+*?]+$)/g,""),d=(e[c].match(/[+*?]+$/)||M)[0]||"",h=~d.indexOf("+"),v=~d.indexOf("*"),m=t[c]||"";if(!m&&!v&&(d.indexOf("?")<0||h)){r=!1;break}if(a[f]=decodeURIComponent(m),h||v){a[f]=t.slice(c).map(decodeURIComponent).join("/");break}}else if(e[c]!==t[c]){r=!1;break}return(!0===n.default||!1!==r)&&a}(e,t.attributes.path,t.attributes);if(r){if(!1!==n){var a={url:e,matches:r};return R(a,r),delete a.ref,delete a.key,function(t,e){return o(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}(t,a)}return t}}).filter(Boolean)},e.prototype.render=function(t,e){var n=t.onChange,r=e.url,o=this.getMatchingChildren(t.children,r,!0),i=o[0]||null;this._didRoute=!!i;var a=this.previousUrl;return r!==a&&(this.previousUrl=r,"function"==typeof n&&n({router:this,url:r,previous:a,active:o,current:i})),i},e}(A);Q.subscribers=$,Q.getCurrentUrl=V,Q.route=H,Q.Router=Q,Q.Route=function(t){return o(t.component,t)},Q.Link=function(t){return o("a",R({onClick:F},t))},window.onload=function(){return t=o("div",null,o("header",null,o("p",null,"Supine")),o(Q,null)),e=document.body,C(n,t,{},!1,e,!1);var t,e,n};
//# sourceMappingURL=supine.min.js.map
