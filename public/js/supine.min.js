var e=function(){},t={},n=[],r=[];function o(o,i){var l,a,u,c,s=r;for(c=arguments.length;c-- >2;)n.push(arguments[c]);for(i&&null!=i.children&&(n.length||n.push(i.children),delete i.children);n.length;)if((a=n.pop())&&void 0!==a.pop)for(c=a.length;c--;)n.push(a[c]);else"boolean"==typeof a&&(a=null),(u="function"!=typeof o)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(u=!1)),u&&l?s[s.length-1]+=a:s===r?s=[a]:s.push(a),l=u;var p=new e;return p.nodeName=o,p.children=s,p.attributes=null==i?void 0:i,p.key=null==i?void 0:i.key,void 0!==t.vnode&&t.vnode(p),p}function i(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var a="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(e,t){return o(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var c=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,s=[];function p(e){!e._dirty&&(e._dirty=!0)&&1==s.push(e)&&(t.debounceRendering||a)(f)}function f(){for(var e;e=s.pop();)e._dirty&&M(e)}function d(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)l(n,null),l(r,e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===c.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,_,a):e.removeEventListener(t,_,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var u=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?u?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(u?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function _(e){return this._listeners[e.type](t.event&&t.event(e)||e)}var y=[],b=0,g=!1,C=!1;function x(){for(var e;e=y.shift();)t.afterMount&&t.afterMount(e),e.componentDidMount&&e.componentDidMount()}function w(e,t,n,r,o,i){b++||(g=null!=o&&void 0!==o.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var l=N(e,t,n,r,i);return o&&l.parentNode!==o&&o.appendChild(l),--b||(C=!1,i||x()),l}function N(e,t,n,r,o){var i=e,l=g;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),k(e,!0))),i.__preactattr_=!0,i;var a,u,c=t.nodeName;if("function"==typeof c)return function(e,t,n,r){var o=e&&e._component,i=o,l=e,a=o&&e._componentConstructor===t.nodeName,u=a,c=v(t);for(;o&&!u&&(o=o._parentComponent);)u=o.constructor===t.nodeName;o&&u&&(!r||o._component)?(B(o,c,3,n,r),e=o.base):(i&&!a&&(E(i),e=l=null),o=P(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,l=null),B(o,c,1,n,r),e=o.base,l&&e!==l&&(l._component=null,k(l,!1)));return e}(e,t,n,r);if(g="svg"===c||"foreignObject"!==c&&g,c=String(c),(!e||!d(e,c))&&(a=c,(u=g?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)).normalizedNodeName=a,i=u,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),k(e,!0)}var s=i.firstChild,p=i.__preactattr_,f=t.children;if(null==p){p=i.__preactattr_={};for(var _=i.attributes,y=_.length;y--;)p[_[y].name]=_[y].value}return!C&&f&&1===f.length&&"string"==typeof f[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=f[0]&&(s.nodeValue=f[0]):(f&&f.length||null!=s)&&function(e,t,n,r,o){var i,l,a,u,c,s=e.childNodes,p=[],f={},v=0,m=0,_=s.length,y=0,b=t?t.length:0;if(0!==_)for(var g=0;g<_;g++){var C=s[g],x=C.__preactattr_,w=b&&x?C._component?C._component.__key:x.key:null;null!=w?(v++,f[w]=C):(x||(void 0!==C.splitText?!o||C.nodeValue.trim():o))&&(p[y++]=C)}if(0!==b)for(var g=0;g<b;g++){c=null;var w=(u=t[g]).key;if(null!=w)v&&void 0!==f[w]&&(c=f[w],f[w]=void 0,v--);else if(m<y)for(i=m;i<y;i++)if(void 0!==p[i]&&(S=l=p[i],P=o,"string"==typeof(U=u)||"number"==typeof U?void 0!==S.splitText:"string"==typeof U.nodeName?!S._componentConstructor&&d(S,U.nodeName):P||S._componentConstructor===U.nodeName)){c=l,p[i]=void 0,i===y-1&&y--,i===m&&m++;break}c=N(c,u,n,r),a=s[g],c&&c!==e&&c!==a&&(null==a?e.appendChild(c):c===a.nextSibling?h(a):e.insertBefore(c,a))}var S,U,P;if(v)for(var g in f)void 0!==f[g]&&k(f[g],!1);for(;m<=y;)void 0!==(c=p[y--])&&k(c,!1)}(i,f,n,r,C||null!=p.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||m(e,r,n[r],n[r]=void 0,g);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||m(e,r,n[r],n[r]=t[r],g)}(i,t.attributes,p),g=l,i}function k(e,t){var n=e._component;n?E(n):(null!=e.__preactattr_&&l(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||h(e),S(e))}function S(e){for(e=e.lastChild;e;){var t=e.previousSibling;k(e,!0),e=t}}var U=[];function P(e,t,n){var r,o=U.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),L.call(r,t,n)):((r=new L(t,n)).constructor=e,r.render=T);o--;)if(U[o].constructor===e)return r.nextBase=U[o].nextBase,U.splice(o,1),r;return r}function T(e,t,n){return this.constructor(e,n)}function B(e,n,r,o,i){e._disable||(e._disable=!0,e.__ref=n.ref,e.__key=n.key,delete n.ref,delete n.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,o)),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==r&&(1!==r&&!1===t.syncComponentUpdates&&e.base?p(e):M(e,1,i)),l(e.__ref,e))}function M(e,n,r,o){if(!e._disable){var l,a,u,c=e.props,s=e.state,p=e.context,f=e.prevProps||c,d=e.prevState||s,h=e.prevContext||p,m=e.base,_=e.nextBase,g=m||_,C=e._component,N=!1,S=h;if(e.constructor.getDerivedStateFromProps&&(s=i(i({},s),e.constructor.getDerivedStateFromProps(c,s)),e.state=s),m&&(e.props=f,e.state=d,e.context=h,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,s,p)?N=!0:e.componentWillUpdate&&e.componentWillUpdate(c,s,p),e.props=c,e.state=s,e.context=p),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!N){l=e.render(c,s,p),e.getChildContext&&(p=i(i({},p),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(S=e.getSnapshotBeforeUpdate(f,d));var U,T,L=l&&l.nodeName;if("function"==typeof L){var D=v(l);(a=C)&&a.constructor===L&&D.key==a.__key?B(a,D,1,p,!1):(U=a,e._component=a=P(L,D,p),a.nextBase=a.nextBase||_,a._parentComponent=e,B(a,D,0,p,!1),M(a,1,r,!0)),T=a.base}else u=g,(U=C)&&(u=e._component=null),(g||1===n)&&(u&&(u._component=null),T=w(u,l,p,r||!m,g&&g.parentNode,!0));if(g&&T!==g&&a!==C){var W=g.parentNode;W&&T!==W&&(W.replaceChild(T,g),U||(g._component=null,k(g,!1)))}if(U&&E(U),e.base=T,T&&!o){for(var j=e,z=e;z=z._parentComponent;)(j=z).base=T;T._component=j,T._componentConstructor=j.constructor}}for(!m||r?y.push(e):N||(e.componentDidUpdate&&e.componentDidUpdate(f,d,S),t.afterUpdate&&t.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);b||o||x()}}function E(e){t.beforeUnmount&&t.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;r?E(r):n&&(null!=n.__preactattr_&&l(n.__preactattr_.ref,null),e.nextBase=n,h(n),U.push(e),S(n)),l(e.__ref,null)}function L(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function D(e,t,n){return w(n,e,{},!1,t,!1)}function W(){return{}}function j(e){return o("div",{class:"container-horizontal"},e.children)}function z(e){var t=e.width,n=e.grow,r=e.resizeHandle,i=e.children,l={};return t&&(l.width=t),n&&(l.flexGrow=n),r&&(l["border"+(r.charAt(0).toUpperCase()+r.slice(1))]="3px solid var(--handle)"),o("div",{class:"container-pane",style:l},i)}i(L.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),p(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),M(this,2)},render:function(){}});var A,H=function(e){return e&&e.default||e}({default:{h:o,createElement:o,cloneElement:u,createRef:W,Component:L,render:D,rerender:f,options:t},h:o,createElement:o,cloneElement:u,createRef:W,Component:L,render:D,rerender:f,options:t}),V=(function(e,t){var n=H;function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e){this.getChildContext=function(){return{store:e.store}}}o.prototype.render=function(e){return e.children[0]},t.connect=function(e,t){var o;return"function"!=typeof e&&("string"==typeof(o=e||[])&&(o=o.split(/\s*,\s*/)),e=function(e){for(var t={},n=0;n<o.length;n++)t[o[n]]=e[o[n]];return t}),function(o){function i(i,l){var a=this,u=l.store,c=e(u?u.getState():{},i),s=t?function(e,t){"function"==typeof e&&(e=e(t));var n={};for(var r in e)n[r]=t.action(e[r]);return n}(t,u):{store:u},p=function(){var t=e(u?u.getState():{},a.props);for(var n in t)if(t[n]!==c[n])return c=t,a.setState(null);for(var r in c)if(!(r in t))return c=t,a.setState(null)};this.componentDidMount=function(){u.subscribe(p)},this.componentWillUnmount=function(){u.unsubscribe(p)},this.render=function(e){return n.h(o,r(r(r({},s),e),c))}}return(i.prototype=new n.Component).constructor=i}},t.Provider=o}(A={exports:{}},A.exports),A.exports),R=V.connect,F=V.Provider;function O(e,t){for(var n in t)e[n]=t[n];return e}var G=function(e){var t=[];function n(e){for(var n=[],r=0;r<t.length;r++)t[r]===e?e=null:n.push(t[r]);t=n}function r(n,r,o){e=r?n:O(O({},e),n);for(var i=t,l=0;l<i.length;l++)i[l](e,o)}return e=e||{},{action:function(t){function n(e){r(e,!1,t)}return function(){for(var r=arguments,o=[e],i=0;i<arguments.length;i++)o.push(r[i]);var l=t.apply(this,o);if(null!=l)return l.then?l.then(n):n(l)}},setState:r,subscribe:function(e){return t.push(e),function(){n(e)}},unsubscribe:n,getState:function(){return e}}}({tree:{}});var I=R(["tree"],function(){return{loadTree:function(){return new Promise(function(e,t){var n,r;return(r="/api/tree",new Promise(function(e,t){var n;return fetch(r).then(function(o){try{if(200!==(n=o).status){var i=function(){try{return e()}catch(e){return t(e)}},l=function(e){try{return console.error("Error loading '"+r+"'",e),i()}catch(e){return t(e)}};try{return n.json().then(function(e){try{return i()}catch(e){return l(e)}},l)}catch(e){l(e)}}return n.json().then(e,t)}catch(e){return t(e)}}.bind(this),t)})).then(function(r){try{return e((n=r)?{tree:n}:{tree:{title:"Error loading tree"}})}catch(e){return t(e)}},t)})}}})(function(){function e(){}return e.prototype.componentDidMount=function(){this.props.loadTree()},e.prototype.render=function(e){return o($,Object.assign({},e.tree,{root:!0}))},e}());function $(e){var t=e.title,n=e.children;if(!t&&!n)return null;var r=n&&!!n.length,i="";return e.root?i="◫":r&&(i="§"),o("div",{class:"booktree-node"},o("div",{class:"booktree-node-chevron"},r&&o("span",null,"⌄")),o("div",{class:"booktree-node-content"},o("div",{class:"booktree-node-title"},o("span",{class:"booktree-node-icon"},i),t||""),r&&o("div",{class:"booktree-node-children"},n.map(function(e){return o($,Object.assign({},{key:e.id},e))}))))}function q(){return o(F,{store:G},o(I,null))}window.onload=function(){return D(o("div",null,o("header",null,o("p",null,"supine")),o("main",null,o(j,null,o(z,{width:"350px",resizeHandle:"right"},o(q,null)),o(z,{grow:"1"},o("div",{style:{height:"100%"}},"…"))))),document.body)};
//# sourceMappingURL=supine.min.js.map
